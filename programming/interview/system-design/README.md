![img.png](img.png)
![img_1.png](img_1.png)
1. Нужно что-то проектировать или оно уже есть. e.g. платежный шлюз
3. В бронировании важно соблюдать консистентность
4. Расставить приоритеты

![img_2.png](img_2.png)

![img_3.png](img_3.png)
![img_4.png](img_4.png)


![img_5.png](img_5.png)
![img_6.png](img_6.png)

![img_7.png](img_7.png)
![img_8.png](img_8.png)

![img_9.png](img_9.png)
![img_10.png](img_10.png)

![img_11.png](img_11.png)
![img_12.png](img_12.png)
---
Как кидать ключ идемпотентности при бронировании, чтобы не было двойного списания

Очень важно спросить, что важно, а что нет при расставлении приоритетов.
Можно отбросить лишние компоненты, как платежный шлюз и т.п.

Всегда нужно искать, где и как сэкономить

Вопросы можно задать в конце:
- Сама задача, зачем задают
- Как решаются архитектурные вопросы в компании
- Странные моменты в задаче

---
План:
1. Сбор требований
   1. Функциональные
      1. Какие упущения допустимы
   2. Нефункциональные
      1. RPS на чтение/на запись
      2. SLA/SLO/SLI
      3. Сетевой трафик, кол-во соединений
      4. DAU/MAU/WAU (daily active users)
      5. СCPU/HDD/SSD/стоимость
      6. Есть ли файлы, видео
    3. Приоритезация (что делаем в первую очередь)
2.
3. API
4. Модель данных
5. Верхнеуровневый дизайн: какие компоненты, будут ли БД (реляционные, k/v, etc, между какими компонентами будет взаимодействие
   1. Какие будут компоненты
   2. Какие компоненты будут между собой взаимодействовать
   3. Будут ли БД
      1. Реляционные
      2. k/v
      3. Для документов (mongoDB)
      4. Колоночные (clickhouse)
      5. Графовые
    4. Rate limiting, pagination, logging
    5. Кэширование, шардирование, репликация, consistent hashing, индексация
    6. CDN
    7. DNS
6. Конкретика в дизайне
  1. Какие именно методы взаимодействия компонентов
  2. Какие БД
  3. Веб-сокеты или long polling
7. Bottleneck и возможные решения  
